<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>About | Emre Kantar</title>
  <link class="favicon" rel="shortcut icon" href="Photos/ITKMUN PP Y.png" type="image/x-icon">
  
  <!-- Resource hints for performance -->
  <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
  <link rel="dns-prefetch" href="//fonts.googleapis.com">
  <link rel="dns-prefetch" href="//fonts.gstatic.com">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;800&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;800&display=swap" rel="stylesheet"></noscript>

  
  
  <link rel="stylesheet" href="CSS/index.css">
  <link rel="stylesheet" href="CSS/navbar.css">
  <link rel="stylesheet" href="CSS/footer.css">
  
  <!-- Critical CSS for above-the-fold content -->
  <style>
    .hero { margin-top: 14vh; padding: var(--space-2xl) var(--site-padding) var(--space-lg) var(--site-padding); background: linear-gradient(135deg, #071019 0%, var(--secondary) 50%, #1a202c 100%); color: var(--white); position: relative; overflow: hidden; min-height: 80vh; display: flex; align-items: center; }
    .navbar { height: 14vh; width: 100%; background: linear-gradient(135deg, #0f1720 0%, #1a202c 100%); display: flex; justify-content: space-between; align-items: center; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1); position: fixed; top: 0; z-index: 1030; backdrop-filter: blur(10px); border-bottom: 1px solid rgba(255, 255, 255, 0.1); }
    .loading-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, #0f1720 0%, #1a202c 100%); display: flex; justify-content: center; align-items: center; z-index: 9999; }
  </style>
  
  <!-- Add modern animations and icons -->
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  </noscript>


</head>
<body>

  <!-- Loading Screen -->
  <div id="loading-screen" class="loading-screen">
    <div class="loading-content">
      <div class="loading-logo">
        <img src="Photos/ITKMUN PP Y.png" alt="Emre Kantar">
      </div>
      <div class="loading-spinner">
        <div class="spinner"></div>
      </div>
      <div class="loading-text">Loading...</div>
    </div>
  </div>

  <!-- NAVIGATION -->
  <nav class="navbar" role="navigation" aria-label="Primary navigation">
    <div class="brand">
      <img class="hideLogo" src="Photos/ITKMUN PP Y.png" alt="Emre Kantar" width="60" height="60">
      <h2><a href="index.html">Emre Kantar</a></h2>
    </div>
    
    <div class="links">
      <div class="nav" role="menubar">
        <a class="hideOnMobile" href="index.html" role="menuitem" aria-current="page">About</a>
        <a class="hideOnMobile" href="projects.html" role="menuitem">Projects</a>
        <a class="hideOnMobile" href="portfolio.html" role="menuitem">Portfolio</a>
        <a class="hideOnMobile" href="contact.html" role="menuitem">Contact</a>
      </div>
      
      <button onclick="showSidebar()" class="menu-button" aria-label="Open navigation menu" aria-expanded="false">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" width="28" height="28" fill="#e8eaed" aria-hidden="true">
          <path d="M120-240v-80h720v80H120Zm0-200v-80h720v80H120Zm0-200v-80h720v80H120Z"/>
        </svg>
      </button>

      <aside class="sidebar" aria-hidden="true" role="menu">
        <button onclick="hideSidebar()" class="close-button" aria-label="Close navigation menu">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960" width="28" height="28" fill="#e8eaed" aria-hidden="true">
            <path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/>
          </svg>
        </button>
        
        <div class="sidebar-header">
          <img src="Photos/ITKMUN PP Y.png" alt="Emre Kantar" width="120" height="120">
          <h2>Emre Kantar</h2>
        </div>
        
        <hr>
        
        <nav class="sidebar-nav" role="menubar">
          <a onclick="hideSidebar()" class="side-links" href="index.html" role="menuitem" aria-current="page">About</a>
          <a onclick="hideSidebar()" class="side-links" href="projects.html" role="menuitem">Projects</a>
          <a onclick="hideSidebar()" class="side-links" href="portfolio.html" role="menuitem">Portfolio</a>
          <a onclick="hideSidebar()" class="side-links" href="contact.html" role="menuitem">Contact</a>
        </nav>
      </aside>
    </div>
  </nav>
  <div id="navbar-content"></div>



  <!-- HERO SECTION -->
  <header class="hero animate__animated animate__fadeIn" role="banner">
    <div class="container">
      <aside class="hero-left animate__animated animate__fadeInLeft">
        <div class="profile-card">
          <div class="avatar">
            <img src="Photos/ITKMUN PP Y.png" alt="Emre Kantar profile picture" width="140" height="140">
          </div>
          
          <div class="profile-stats">
            <div class="stat">
              <div class="num m-num counter" data-target="6">0</div>
              <div class="label">Projects</div>
            </div>
            <div class="stat">
              <div class="num m-num counter" data-target="3">0</div>
              <div class="label">Researches</div>
            </div>
            <div class="stat">
              <div class="num m-num counter" data-target="12">0</div>
              <div class="label">Awards</div>
            </div>
          </div>
        </div>
      </aside>

      <div class="hero-right animate__animated animate__fadeInRight">
        <h1 class="typing-text">Emre Kantar</h1>
        <div class="role">
          <span><i class="fas fa-users" aria-hidden="true"></i> Founder @EMT Projects</span> •
          <span><i class="fas fa-cube" aria-hidden="true"></i> SolidWorks & CAD Designer</span> • 
          <span><i class="fas fa-graduation-cap" aria-hidden="true"></i> Design Thinking Trainer</span>  
          
        </div>
        <p class="lead">
          I develop practical CAD models and mechanical systems that aim to address real-world problems by turning ideas into functional prototypes. 
          By applying basic design principles with a creative, product-focused mindset, I work toward bringing concepts closer to workable designs.        
        </p>

        <div class="bullets">
          <div class="bullet animate-on-scroll"><i class="fas fa-drafting-compass" aria-hidden="true"></i> SolidWorks & CAD</div>
          <div class="bullet animate-on-scroll"><i class="fas fa-cogs" aria-hidden="true"></i> Product Development</div>
          <div class="bullet animate-on-scroll"><i class="fas fa-crown" aria-hidden="true"></i> Leadership & Management</div>
        </div>

        <div class="cta-row">
          <a class="btn-primary pulse-btn" href="contact.html">
            <i class="fas fa-handshake" aria-hidden="true"></i> Work with me
          </a>
          <a class="btn-muted" href="portfolio.html">
            <i class="fas fa-file-alt" aria-hidden="true"></i> View Portfolio
          </a>
        </div>
      </div>
    </div>
  </header>

  <main class="main-wrap" role="main">

    <!-- ABOUT SECTION -->
    <section class="summary animate-on-scroll" aria-labelledby="aboutTitle">
      <h2 id="aboutTitle">
        <i class="fas fa-user" aria-hidden="true"></i> About Me
      </h2>
      
      <div class="summary-content">
        <div class="text">
          <p class="animate-on-scroll">
            I am <strong>Emre Kantar</strong> — a dedicated high school student passionate about 
            <strong>mechanical design, engineering, innovation, and problem-solving</strong>. With experience in CAD design and robotics, 
            I have worked on projects that challenge me to combine technical accuracy with creative thinking. 
            I value both precision and practicality, aiming to design solutions that are not only functional but also meaningful.
          </p>
          <p class="animate-on-scroll">
            I approach each challenge with a mix of analytical reasoning and hands-on experimentation, using every project as an opportunity to learn, refine my skills, and explore new ideas. 
            My goal is to turn concepts into tangible outcomes that make a real difference, while continually growing as both a student and an engineer candidate.
          </p>
          
          <div class="highlight-box animate-on-scroll">
            <div class="highlight-icon">
              <i class="fas fa-lightbulb" aria-hidden="true"></i>
            </div>
            <div class="highlight-content">
              <h4>My Philosophy</h4>
              <p>Every problem is an opportunity to innovate and create something meaningful that can make a real impact.</p>
            </div>
          </div>
        </div>
        
        <aside class="summaryContact">
          <div class="contact-card animate-on-scroll">
            <div class="contact-header">
              <div class="contact-icon">
                <i class="fas fa-comments" aria-hidden="true"></i>
              </div>
              <h3>Let's Talk</h3>
            </div>
            <p>Available for freelance & research collaborations</p>
            <div class="contact-actions">
              <a href="contact.html" class="btn-primary">
                <i class="fas fa-envelope" aria-hidden="true"></i>
                <span>Contact Me</span>
              </a>
            </div>
          </div>

          <div class="metrics animate-on-scroll">
            <div class="metric">
              <div class="metric-icon">
                <i class="fas fa-project-diagram" aria-hidden="true"></i>
              </div>
              <div class="metric-content">
                <div class="m-num counter" data-target="6">0</div>
                <div class="m-label">Projects</div>
              </div>
            </div>
            <div class="metric">
              <div class="metric-icon">
                <i class="fas fa-microscope" aria-hidden="true"></i>
              </div>
              <div class="metric-content">
                <div class="m-num counter" data-target="3">0</div>
                <div class="m-label">Researches</div>
              </div>
            </div>
            <div class="metric">
              <div class="metric-icon">
                <i class="fas fa-trophy" aria-hidden="true"></i>
              </div>
              <div class="metric-content">
                <div class="m-num counter" data-target="12">0</div>
                <div class="m-label">Awards</div>
              </div>
            </div>
          </div>
        </aside>
      </div>
    </section>

    <!-- SKILLS SECTION -->
    <section class="skills-section animate-on-scroll" aria-labelledby="skillsTitle">
      <h2 id="skillsTitle">
        <i class="fas fa-star" aria-hidden="true"></i> Core Competencies
      </h2>
      <div class="skills-grid">
        <article class="skill-card hover-lift">
          <div class="skill-icon">
            <i class="fas fa-drafting-compass" aria-hidden="true"></i>
          </div>
          <h3>Mechanical Design</h3>
          <p>Experienced in SolidWorks and CAD modeling with an emphasis on efficient, manufacturable designs.</p>
          <div class="skill-progress">
            <div class="progress-bar" data-progress="95" aria-label="95% proficiency"></div>
          </div>
        </article>
        
        <article class="skill-card hover-lift">
          <div class="skill-icon">
            <i class="fas fa-robot" aria-hidden="true"></i>
          </div>
          <h3>Robotics Integration</h3>
          <p>Experienced in integrating mechanical and electronic systems using standard platforms.</p>
          <div class="skill-progress">
            <div class="progress-bar" data-progress="85" aria-label="90% proficiency"></div>
          </div>
        </article>
        
        <article class="skill-card hover-lift">
          <div class="skill-icon">
            <i class="fas fa-users-cog" aria-hidden="true"></i>
          </div>
          <h3>Leadership & Collaboration</h3>
          <p>Experienced in leading teams, organizing workshops, and mentoring peers.</p>
          <div class="skill-progress">
            <div class="progress-bar" data-progress="90" aria-label="90% proficiency"></div>
          </div>
        </article>
      </div>
    </section>


    <!-- SERVICES 
    <section class="services" aria-labelledby="servicesTitle">
      <h2 id="servicesTitle">Core Services</h2>
      <div class="service-grid" role="list">
        <article class="service-card" role="listitem">
          <h3>Concept & CAD Engineering</h3>
          <p>Parametric 3D modeling, tolerance analysis and DFMA reviews to ensure designs are ready for manufacturing.</p>
          <div class="learn"><a href="projects.html">Learn more →</a></div>
        </article>

        <article class="service-card" role="listitem">
          <h3>Prototyping & Test</h3>
          <p>Rapid prototyping, test rigs and data-driven validation to iterate quickly and reduce time-to-market.</p>
          <div class="learn"><a href="projects.html">Learn more →</a></div>
        </article>

        <article class="service-card" role="listitem">
          <h3>Systems Integration</h3>
          <p>Mechanical-electrical integration, embedded systems support and cross-discipline coordination for robust products.</p>
          <div class="learn"><a href="projects.html">Learn more →</a></div>
        </article>

        <article class="service-card" role="listitem">
          <h3>Sustainability Consulting</h3>
          <p>Material selection, lifecycle analysis and upcycling strategies to minimize environmental footprint.</p>
          <div class="learn"><a href="blog.html">Learn more →</a></div>
        </article>
      </div>
    </section>

     CALL TO ACTION 
    <section class="cta" aria-label="Call to action">
      <div class="left">
        <h3>Interested in a collaboration or technical consulting?</h3>
        <p>Tell me about your challenge — I’ll respond with a pragmatic plan and next steps.</p>
      </div>
      <div class="right">
        <a class="btn-primary" href="contact.html" aria-label="Contact me">Request Consultation</a>
        <a class="btn-muted" href="portfolio.html" aria-label="Download portfolio or view portfolio">View CV</a>
      </div>
    </section>-->

    
  </main>

   <!-- SLIDER SECTION -->
  <section class="slider-wrapper" aria-label="Project images">
    <div class="slider-container" role="region" aria-roledescription="carousel" aria-label="Image carousel">
      <button class="side-btn" id="prevBtn" aria-label="Previous">‹</button>

      
      <div class="slider-viewport" id="viewport">
        <div class="slider-track" id="track">
          <div class="slide"><div class="slide-content"><img src="Photos/About-Slider/PP.png" alt="1"></div></div>
          <div class="slide"><div class="slide-content"><img src="Photos/About-Slider/Emre_Kantar_Tarımbot.jpg" alt="1"></div></div>
          <div class="slide"><div class="slide-content"><img src="Photos/About-Slider/Habitat Derneği - Yes 2.JPG" alt="1"></div></div>
          <div class="slide"><div class="slide-content"><img src="Photos/About-Slider/WRO 2024. Bireysel 1.jpg" alt="3"></div></div>
          <div class="slide"><div class="slide-content"><img src="Photos/About-Slider/Habitat Derneği - YES 1.JPG" alt="3"></div></div>
          <div class="slide"><div class="slide-content"><img src="Photos/About-Slider/Kanguru Matematik 2024. 3.jpg" alt="4"></div></div>
          
          
        </div>
      </div>

      <button class="side-btn" id="nextBtn" aria-label="Next">›</button>
    </div>
  </section>

  <footer>
    <div class="container">
      <p>&copy; 2025 Emre Kantar • <span>All rights reserved</span></p>
			<div id="socials-list">
				<a class="socials" href="https://www.linkedin.com/in/emre-kantar" target="_blank"><img src="Assets/SVGs/linkedin-svgrepo-com white.svg" alt="LinkedIn" ></a>
				<a class="socials" href="https://www.fiverr.com/s/dDGm6q2" target="_blank"><img src="Assets/SVGs/fiverr-svgrepo-com white.svg" alt=""></a>
				<a class="socials" href="contact.html"><img src="Assets/SVGs/gmail-svgrepo-com white.svg" alt=""></a>
			</div>
			<p style="margin-top: 1rem;">📍Izmir, Türkiye</p>
    </div>
  </footer>

  <script>
    /* ---------- Sidebar open/close ---------- */
    function showSidebar() {
      document.querySelector('.sidebar').style.display = 'flex';
    }
    function hideSidebar() {
      document.querySelector('.sidebar').style.display = 'none';
    }

    /* ---------- Modern Animations and Interactions ---------- */
    
    // Counter Animation
    function animateCounters() {
      const counters = document.querySelectorAll('.counter');
      counters.forEach(counter => {
        const target = parseInt(counter.getAttribute('data-target'));
        const increment = target / 100;
        let current = 0;
        
        const updateCounter = () => {
          if (current < target) {
            current += increment;
            counter.textContent = Math.ceil(current) + '+';
            setTimeout(updateCounter, 10);
          } else {
            counter.textContent = target + '+';
          }
        };
        updateCounter();
      });
    }

    // Typing Animation
    function typeWriter(element, text, speed = 100) {
      let i = 0;
      element.innerHTML = '';
      
      function type() {
        if (i < text.length) {
          element.innerHTML += text.charAt(i);
          i++;
          setTimeout(type, speed * 0.7);
        }
      }
      type();
    }

    // Scroll Animations
    function handleScrollAnimations() {
      const elements = document.querySelectorAll('.animate-on-scroll');
      
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('animate__animated', 'animate__fadeInUp');
          }
        });
      }, { threshold: 0.1 });

      elements.forEach(el => observer.observe(el));
    }

    // Progress Bar Animation
    function animateProgressBars() {
      const progressBars = document.querySelectorAll('.progress-bar');
      
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const progress = entry.target.getAttribute('data-progress');
            entry.target.style.width = progress + '%';
          }
        });
      }, { threshold: 0.5 });

      progressBars.forEach(bar => observer.observe(bar));
    }

    // Pulse Button Animation
    function addPulseEffect() {
      const pulseBtn = document.querySelector('.pulse-btn');
      if (pulseBtn) {
        setInterval(() => {
          pulseBtn.classList.add('animate__pulse');
          setTimeout(() => {
            pulseBtn.classList.remove('animate__pulse');
          }, 800);
        }, 4000);
      }
    }


    // Loading Screen Management
    function hideLoadingScreen() {
      const loadingScreen = document.getElementById('loading-screen');
      if (loadingScreen) {
        loadingScreen.style.opacity = '0';
        setTimeout(() => {
          loadingScreen.style.display = 'none';
        }, 500);
      }
    }

    // Navigation Active State
    function setActiveNavItem() {
      const currentPage = window.location.pathname.split('/').pop() || 'index.html';
      const navLinks = document.querySelectorAll('.nav a, .side-links');
      
      navLinks.forEach(link => {
        link.classList.remove('active');
        const href = link.getAttribute('href');
        if (href === currentPage || (currentPage === '' && href === 'index.html')) {
          link.classList.add('active');
        }
      });
    }

    // Enhanced animations and interactions
    function initAnimations() {
      // Set active navigation item
      setActiveNavItem();
      
      // Hide loading screen after content loads
      setTimeout(() => {
        hideLoadingScreen();
      }, 800);
      
      // Start typing animation for the name
      const nameElement = document.querySelector('.typing-text');
      if (nameElement) {
        setTimeout(() => {
          typeWriter(nameElement, 'Emre Kantar', 100);
        }, 900);
      }
      
      // Initialize other animations
      setTimeout(() => {
        animateCounters();
        handleScrollAnimations();
        animateProgressBars();
        addPulseEffect();
        initParallaxEffects();
        initHoverEffects();
        initFloatingElements();
        initParticleEffect();
        initGlowEffects();
      }, 1200);
    }

    // Floating elements animation
    function initFloatingElements() {
      const bullets = document.querySelectorAll('.bullet');
      bullets.forEach((bullet, index) => {
        bullet.style.animationDelay = `${index * 0.2}s`;
        bullet.style.animation = 'float 3s ease-in-out infinite';
      });
    }

    // Particle effect for hero section
    function initParticleEffect() {
      const hero = document.querySelector('.hero');
      if (!hero) return;

      for (let i = 0; i < 20; i++) {
        createParticle(hero);
      }
    }

    function createParticle(container) {
      const particle = document.createElement('div');
      particle.style.cssText = `
        position: absolute;
        width: 2px;
        height: 2px;
        background: rgba(255, 102, 0, 0.6);
        border-radius: 50%;
        pointer-events: none;
        animation: particleFloat ${5 + Math.random() * 10}s linear infinite;
        left: ${Math.random() * 100}%;
        top: ${Math.random() * 100}%;
        animation-delay: ${Math.random() * 5}s;
      `;
      container.appendChild(particle);
    }

    // Glow effects for interactive elements
    function initGlowEffects() {
      const buttons = document.querySelectorAll('.btn-primary, .btn-muted');
      const cards = document.querySelectorAll('.skill-card, .project-card');
      
      buttons.forEach(btn => {
        btn.addEventListener('mouseenter', () => {
          btn.style.boxShadow = '0 0 30px rgba(255, 102, 0, 0.5)';
        });
        btn.addEventListener('mouseleave', () => {
          btn.style.boxShadow = '';
        });
      });

      cards.forEach(card => {
        card.addEventListener('mouseenter', () => {
          card.style.boxShadow = '0 20px 40px rgba(0, 0, 0, 0.2), 0 0 20px rgba(255, 102, 0, 0.1)';
        });
        card.addEventListener('mouseleave', () => {
          card.style.boxShadow = '';
        });
      });
    }

    // Parallax scrolling effects
    function initParallaxEffects() {
      const hero = document.querySelector('.hero');
      const profileCard = document.querySelector('.profile-card');
      
      window.addEventListener('scroll', () => {
        const scrolled = window.pageYOffset;
        const rate = scrolled * -0.5;
        
        if (hero) {
          hero.style.transform = `translateY(${rate}px)`;
        }
        
        if (profileCard) {
          const cardRate = scrolled * -0.3;
          profileCard.style.transform = `translateY(${cardRate}px)`;
        }
      });
    }

    // Enhanced hover effects
    function initHoverEffects() {
      const skillCards = document.querySelectorAll('.skill-card');
      const projectCards = document.querySelectorAll('.project-card');
      
      skillCards.forEach(card => {
        card.addEventListener('mouseenter', () => {
          card.style.transform = 'translateY(-10px) scale(1.02)';
        });
        
        card.addEventListener('mouseleave', () => {
          card.style.transform = 'translateY(0) scale(1)';
        });
      });
      
      projectCards.forEach(card => {
        card.addEventListener('mouseenter', () => {
          card.style.transform = 'translateY(-8px) rotateY(5deg)';
        });
        
        card.addEventListener('mouseleave', () => {
          card.style.transform = 'translateY(0) rotateY(0deg)';
        });
      });
    }

    // Smooth scroll for anchor links
    function initSmoothScroll() {
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            target.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }
        });
      });
    }

    // Initialize all animations when DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
      initAnimations();
      initSmoothScroll();
    });

    
    (function(){
  const track = document.getElementById('track');
  const viewport = document.getElementById('viewport');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');

  // number visible at once for desktop; this also controls clones
  let visible = 4;

  // handle responsive visible count (mobile fallback)
  function getVisibleCount(){
    if(window.innerWidth < 440) return 1;
    if(window.innerWidth < 720) return 2;
    return 4;
  }

  let originalSlides = Array.from(track.children); // NodeList -> array
  let originalCount = originalSlides.length;

  // Create clones for infinite loop (clone last `visible` to front and first `visible` to end)
  function setupClones(visibleCount){
    // remove any existing clones (if re-setup)
    track.innerHTML = '';
    originalSlides.forEach(s => track.appendChild(s.cloneNode(true)));

    const currentOriginals = Array.from(track.children).slice(0, originalCount);

    // clonesStart = last visible slides (in order)
    const clonesStart = currentOriginals.slice(originalCount - visibleCount).map(s => s.cloneNode(true));
    // clonesEnd = first visible slides
    const clonesEnd = currentOriginals.slice(0, visibleCount).map(s => s.cloneNode(true));

    // prepend clonesStart in same order
    const fragStart = document.createDocumentFragment();
    clonesStart.forEach(c => fragStart.appendChild(c));
    track.insertBefore(fragStart, track.firstChild);

    // append clonesEnd
    const fragEnd = document.createDocumentFragment();
    clonesEnd.forEach(c => fragEnd.appendChild(c));
    track.appendChild(fragEnd);

    return Array.from(track.children);
  }

  let slides; // will hold track children after cloning
  let currentIndex; // index into slides NodeList (pixels computed on this)
  let slideWidth; // px width of each slide (depends on viewport)
  let isAnimating = false;
  let autoTimer = null;
  let autoplayMs = 3500; // change this value for auto speed

  function init(){
    visible = getVisibleCount();
    slides = setupClones(visible);
    currentIndex = visible; // start at first real slide (after clones at start)
    calculateSizes();
    // position to the first real slide without animation
    track.style.transition = 'none';
    setTranslate();
    // small delay then restore transition
    requestAnimationFrame(()=> { requestAnimationFrame(()=> track.style.transition = 'transform .55s cubic-bezier(.2,.9,.3,1)'); });
    bindEvents();
    startAutoplay();
  }

  function calculateSizes(){
    // ensure each .slide has same computed width (flex basis handles this)
    // slideWidth = width of first slide element
    const firstSlide = track.querySelector('.slide');
    if(!firstSlide) return;
    slideWidth = firstSlide.getBoundingClientRect().width;
    // force the track to the correct position (use px)
    setTranslate();
  }

  function setTranslate(animate=true){
    if(!slideWidth) calculateSizes();
    const x = - currentIndex * slideWidth;
    if(!animate){
      const prev = track.style.transition;
      track.style.transition = 'none';
      track.style.transform = `translateX(${x}px)`;
      // force reflow then restore transition
      void track.offsetWidth;
      track.style.transition = prev || 'transform .55s cubic-bezier(.2,.9,.3,1)';
    } else {
      track.style.transform = `translateX(${x}px)`;
    }
  }

  function moveTo(idx){
    if(isAnimating) return;
    isAnimating = true;
    currentIndex = idx;
    setTranslate(true);
  }

  function moveNext(){
    if(isAnimating) return;
    moveTo(currentIndex + 1);
  }
  function movePrev(){
    if(isAnimating) return;
    moveTo(currentIndex - 1);
  }

  // After each transition, check if we're on a clone and jump to the corresponding original index
  track.addEventListener('transitionend', (e)=>{
    if(e.propertyName !== 'transform') return;
    // If we've moved into the appended clones at the end
    if(currentIndex >= originalCount + visible){
      // jump back to the original start (same slide), without animation
      currentIndex = visible;
      setTranslate(false);
    }
    // If we've moved into the prepended clones at the start
    if(currentIndex < visible){
      currentIndex = currentIndex + originalCount;
      setTranslate(false);
    }
    isAnimating = false;
  });

  // buttons
  nextBtn.addEventListener('click', ()=>{
    moveNext();
    restartAutoplay();
  });
  prevBtn.addEventListener('click', ()=>{
    movePrev();
    restartAutoplay();
  });

  // autoplay with pause on hover/focus
  function startAutoplay(){
    stopAutoplay();
    autoTimer = setInterval(()=> {
      moveNext();
    }, autoplayMs);
  }
  function stopAutoplay(){ if(autoTimer) clearInterval(autoTimer); autoTimer = null; }
  function restartAutoplay(){ stopAutoplay(); startAutoplay(); }

  // pause on hover
  const container = document.querySelector('.slider-viewport');
  container.addEventListener('mouseenter', ()=> stopAutoplay());
  container.addEventListener('mouseleave', ()=> startAutoplay());
  // also pause if focus enters any control
  [prevBtn,nextBtn].forEach(b=>{
    b.addEventListener('focus', stopAutoplay);
    b.addEventListener('blur', startAutoplay);
  });

  // keyboard navigation
  document.addEventListener('keydown', (e)=>{
    if(e.key === 'ArrowRight') { moveNext(); restartAutoplay(); }
    if(e.key === 'ArrowLeft') { movePrev(); restartAutoplay(); }
  });

  // update sizes on resize (recalculate slide width & reposition)
  let resizeId = null;
  window.addEventListener('resize', ()=>{
    clearTimeout(resizeId);
    resizeId = setTimeout(()=>{
      // if visible count changes for responsiveness, re-init
      const newVisible = getVisibleCount();
      if(newVisible !== visible){
        // rebuild clones & re-init
        init();
      } else {
        calculateSizes();
      }
    }, 120);
  });

  // initialize on DOM ready
  init();
})();

// Scroll animation observer
const observerOptions = {
  threshold: 0.1,
  rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('animated');
    }
  });
}, observerOptions);

// Observe all animate-on-scroll elements
document.addEventListener('DOMContentLoaded', () => {
  const animateElements = document.querySelectorAll('.animate-on-scroll');
  animateElements.forEach(el => observer.observe(el));
});

  </script>
</body>
</html>
